# Sefaria ChatBot

Чат-бот, который использует API OpenRouter для генерации ответов и API Sefaria для получения знаний о еврейских текстах и традициях.

## Описание

Этот проект представляет собой веб-приложение на Flask, которое объединяет возможности языковых моделей через OpenRouter API с обширной базой еврейских текстов Sefaria. Пользователи могут задавать вопросы о еврейских текстах, традициях и концепциях, а чат-бот будет искать релевантную информацию в Sefaria и использовать ее для формирования ответов с помощью языковой модели.

## Особенности

- Интеграция с OpenRouter API для доступа к различным языковым моделям
- Поиск и извлечение релевантных текстов из Sefaria API
- Веб-интерфейс для удобного взаимодействия с чат-ботом
- Форматирование и отображение цитат из еврейских текстов

## Требования

- Python 3.7+
- Flask
- Requests
- python-dotenv

## Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/yourusername/sefaria-chatbot.git
   cd sefaria-chatbot
   ```

2. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

3. Создайте файл `.env` на основе `.env.example` и добавьте свой API ключ OpenRouter:
   ```
   cp .env.example .env
   ```
   Затем отредактируйте файл `.env` и добавьте свой API ключ:
   ```
   OPENROUTER_API_KEY=your_openrouter_api_key_here
   ```

## Использование

1. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

2. Запустите тесты, чтобы убедиться, что API работают корректно:
   ```
   python run_tests.py
   ```

3. Запустите веб-приложение:
   ```
   python run.py
   ```

4. Или используйте консольный интерфейс:
   ```
   python run_cli.py
   ```

5. Откройте веб-браузер и перейдите по адресу `http://localhost:5000`

6. Введите свой вопрос о еврейских текстах или традициях в поле ввода и нажмите "Отправить"

## Структура проекта

- `app.py` - Основной файл Flask приложения
- `chatbot.py` - Класс чат-бота, объединяющий функциональность OpenRouter и Sefaria
- `openrouter_api.py` - Модуль для работы с OpenRouter API
- `sefaria_api.py` - Модуль для работы с Sefaria API
- `cli.py` - Консольный интерфейс для чат-бота
- `test_api.py` - Скрипт для тестирования API
- `run.py` - Точка входа для запуска веб-приложения
- `run_cli.py` - Точка входа для запуска консольного интерфейса
- `run_tests.py` - Точка входа для запуска тестов API
- `templates/index.html` - HTML шаблон для веб-интерфейса
- `.env` - Файл с переменными окружения
- `.env.example` - Пример файла с переменными окружения
- `.gitignore` - Файл для исключения из системы контроля версий

## Получение API ключа OpenRouter

Для использования этого чат-бота вам потребуется API ключ от OpenRouter. Чтобы получить ключ:

1. Перейдите на сайт [OpenRouter](https://openrouter.ai/)
2. Зарегистрируйтесь или войдите в свой аккаунт
3. Перейдите в раздел API Keys и создайте новый ключ
4. Скопируйте ключ и добавьте его в файл `.env`

## Примеры запросов

- "Что такое Тора?"
- "Расскажи о празднике Песах"
- "Кто такой Маймонид?"
- "Что говорится в Талмуде о благотворительности?"
- "Объясни концепцию Тиккун Олам"

## Лицензия

MIT

## Благодарности

- [OpenRouter](https://openrouter.ai/) за предоставление доступа к языковым моделям
- [Sefaria](https://www.sefaria.org/) за обширную библиотеку еврейских текстов и открытый API
